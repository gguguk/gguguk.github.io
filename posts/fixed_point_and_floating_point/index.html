<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Expires" content="0"><meta http-equiv="Pragma" content="no-cache"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="CS50 - 고정 소수점(fixed point)과 부동 소수점(floating point)" /><meta name="author" content="Gukwon Koo" /><meta property="og:locale" content="en" /><meta name="description" content="최근 사내에서 CS50 스터디를 시작했습니다. 본 포스팅은 CS50의 두번째 주제인 ‘C언어’ 강의를 듣다가 평소 궁금했던 고정 소수점(fixed point)과 부동 소수점(floating point)에 대해 추가적으로 정리하는 목적입니다. 강의 내용과는 크게 관련은 없습니다!" /><meta property="og:description" content="최근 사내에서 CS50 스터디를 시작했습니다. 본 포스팅은 CS50의 두번째 주제인 ‘C언어’ 강의를 듣다가 평소 궁금했던 고정 소수점(fixed point)과 부동 소수점(floating point)에 대해 추가적으로 정리하는 목적입니다. 강의 내용과는 크게 관련은 없습니다!" /><link rel="canonical" href="https://gguguk.github.io/posts/fixed_point_and_floating_point/" /><meta property="og:url" content="https://gguguk.github.io/posts/fixed_point_and_floating_point/" /><meta property="og:site_name" content="생각과 고민." /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-10-20T21:43:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="CS50 - 고정 소수점(fixed point)과 부동 소수점(floating point)" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Gukwon Koo" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Gukwon Koo"},"dateModified":"2021-10-22T08:25:24+09:00","datePublished":"2021-10-20T21:43:00+09:00","description":"최근 사내에서 CS50 스터디를 시작했습니다. 본 포스팅은 CS50의 두번째 주제인 ‘C언어’ 강의를 듣다가 평소 궁금했던 고정 소수점(fixed point)과 부동 소수점(floating point)에 대해 추가적으로 정리하는 목적입니다. 강의 내용과는 크게 관련은 없습니다!","headline":"CS50 - 고정 소수점(fixed point)과 부동 소수점(floating point)","mainEntityOfPage":{"@type":"WebPage","@id":"https://gguguk.github.io/posts/fixed_point_and_floating_point/"},"url":"https://gguguk.github.io/posts/fixed_point_and_floating_point/"}</script><title>CS50 - 고정 소수점(fixed point)과 부동 소수점(floating point) | 생각과 고민.</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="생각과 고민."><meta name="application-name" content="생각과 고민."><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/sample/bear.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">생각과 고민.</a></div><div class="site-subtitle font-italic">주니어 데이터 사이언티스트입니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/gguguk" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://www.linkedin.com/in/%EA%B5%AD%EC%9B%90-%EA%B5%AC-32a9691a1/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>CS50 - 고정 소수점(fixed point)과 부동 소수점(floating point)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>CS50 - 고정 소수점(fixed point)과 부동 소수점(floating point)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Gukwon Koo </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Oct 20, 2021, 9:43 PM +0900" >Oct 20, 2021<i class="unloaded">2021-10-20T21:43:00+09:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Fri, Oct 22, 2021, 8:25 AM +0900" >Oct 22, 2021<i class="unloaded">2021-10-22T08:25:24+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4712 words">26 min read</span></div></div><div class="post-content"><p>최근 사내에서 <a href="https://www.boostcourse.org/cs112">CS50</a> 스터디를 시작했습니다. 본 포스팅은 CS50의 두번째 주제인 ‘C언어’ 강의를 듣다가 평소 궁금했던 고정 소수점(fixed point)과 부동 소수점(floating point)에 대해 추가적으로 정리하는 목적입니다. 강의 내용과는 크게 관련은 없습니다!</p><p>본 포스팅에서는 다음의 내용을 다룹니다.</p><ul><li>실수를 2진수로 변환하는 방법<li>고정 소수점(fixed point)<li>부동 소수점(floating point)<li>파이썬에서 부동 소수점<li>마무리</ul><p><br /></p><h2 id="실수를-2진수로-변환하는-방법">실수를 2진수로 변환하는 방법</h2><hr /><p><a href="https://gguguk.github.io/posts/cs50_computational_thinking/">지난 글</a>에서 정수 10진수를 2진수로 변환하는 방법을 알아보았습니다. 하지만 컴퓨터가 정수만 다루는 것은 아닙니다. \(123.73\)과 같은 실수도 당연히 다룰 수 있어야겠죠. 하지만 변함 없는 사실은 정수든 실수든 컴퓨터는 0과 1로만 이루어진 2진수만 다룰 수 있습니다. 그렇다면 실수를 2진수로 어떻게 변환해야 할까요?</p><p>10진수는 10의 거듭제곱의 합으로 표현할 수 있다는 사실은 쉽게 받아들일 수 있습니다.</p><p><br /></p>\[123_{(10)} = 10^2 \cdot 1 + 10^1 \cdot 2 + 10^0 \cdot 3\]<p><br /></p><p>같은 원리로 2진수는 2의 거듭제곱의 합으로 표현할 수 있습니다.</p><p><br /></p>\[101_{(2)} = 2^2 \cdot 1 + 2^1 \cdot 0 + 2^0 \cdot 1\]<p><br /></p><p>\(N\)진법 실수도 정확하게 같은 원리로 \(N\)의 거듭제곱의 합으로 표현할 수 있습니다. 10진수 실수 123.73을 10의 거듭제곱의 합으로 표현하면:</p><p><br /></p>\[123.73_{(10)} = 10^2 \cdot 1 + 10^1 \cdot 2 + 10^0 \cdot 3 + 10^{-1} \cdot 7 + 10^{-2} \cdot 3\]<p><br /></p><p>2진수로 표현된 실수 \(1.101_{(2)}\)를 2의 거듭제곱의 합으로 표현하면:</p><p><br /></p>\[11.101_{(2)} = 2^1 \cdot 1 + 2^0 \cdot 1 + 2^{-1} \cdot 1 + 2^{-2} \cdot 0 + 2^{-3} \cdot 1\]<p><br /></p><p>그렇다면 10진수 실수를 2진수 실수로 변환하려면 어떻게 해야할까요? 먼저 정수 10진수 13을 2진수로 변환해보겠습니다. 2진수는 2의 거듭제곱의 합으로 표현할 수 있다는 원칙만 계속 가져가면 됩니다.</p><p><br /></p>\[\begin{align} 13_{(10)} &amp;= 2^3 \cdot 1 + 2^2 \cdot 1 + 2^1 \cdot 0 + 2^0 \cdot 1 \\[1em] &amp;=1101_{(2)} \end{align}\]<p><br /></p><p>이제 10진수 실수 \(0.75\)를 2진수 실수로 표현해보겠습니다. 역시나 2진수는 2의 거듭제곱의 합으로 표현할 수 있다는 사실만 기억하면 됩니다.</p><p><br /></p>\[\begin{align} 0.75_{(10)} &amp;= 2^{-1} \cdot 1 + 2^{-2} \cdot 1 \\[1em] &amp;= 0.11_{(2)} \end{align}\]<p><br /></p><p>자 그렇다면~ 10진수 0.3을 2진수 실수로 변환하는 문제 하나만 더 풀어 보겠습니다!</p><p><br /></p>\[\begin{align} 0.3_{(10)} &amp;= 2^{-1} \cdot 0 + 2^{-2} \cdot 1 + 2^{-3} \cdot 0 + 2^{-4} \cdot 0 + 2^{-5} \cdot 1 + \cdots \\[1em] &amp;=0.0100110011\cdots_{(2)} \end{align}\]<p><br /></p><p>소수점 자리 밑에서 \(0011\)이 계속 반복됩니다. 정수를 2진수로 변환하는 것은 전혀 어려운 문제가 아니었지만 실수를 2진수로 변환할 때에는 이처럼 무한히 커지는 비트를 처리하는 문제가 대단히 중요할 것 같습니다. 특히 컴퓨터는 하드웨어(특히 메모리)의 저장용량의 한계로 인해 이처럼 무한히 반복되는 수를 저장할 수가 없습니다.</p><p>그렇다면 컴퓨터가 실수를 잘 처리할 수 있는 방법이 있어야 할 것 같습니다. 먼저 컴퓨터에서 실수를 표현하기 위해 모든 메모리를 다 사용할 수는 없으므로 실수를 표현할 때 사용할 비트의 수를 정해두어야 하겠습니다. 파이썬에서 넘파이를 활용해 보신 분들은 <code class="language-plaintext highlighter-rouge">float16</code>, <code class="language-plaintext highlighter-rouge">float32</code>, <code class="language-plaintext highlighter-rouge">float64</code>와 같은 수 표현 체계를 보신적이 있을겁니다. 이는 넘파이에서 실수(float)을 표현할 때 몇 비트를 사용할 것인지를 사용자가 임의로 정하게 해둔 것입니다. 예를 들어 <code class="language-plaintext highlighter-rouge">float32</code>는 실수를 32비트를 활용해 표현합니다. 그리고 당연하게도 더 많은 비트를 쓸 수록 더 큰 실수를 표현할 수 있지만 그만큼 메모리를 비효율적으로 사용할 가능성이 커집니다.</p><p>앞으로 글의 전개는 <strong>실수를 32비트로 표현하는 것을 기준</strong>으로 설명드리겠습니다. 컴퓨터가 실수를 다루는 두 가지 방법은 <strong>고정 소수점(fixed point)</strong>과 <strong>부동 소수점(floating point)</strong>입니다.</p><p><br /></p><h2 id="고정-소수점fixed-point">고정 소수점(Fixed Point)</h2><hr /><h3 id="원리">원리</h3><p>고정 소수점(fixed point)은 정수를 표현하는 비트와 소수를 표현하는 비트수를 미리 정하고(<strong>고정</strong>) 해당 비트만을 활용하여 실수를 표현합니다.</p><ul><li>처음 <strong>1비트</strong>는 <code class="language-plaintext highlighter-rouge">sign</code>(부호)을 나타냅니다. 양수는 0, 음수는 1입니다.<li>다음 <strong>15비트</strong>는 <code class="language-plaintext highlighter-rouge">integer part</code>(정수부)를 나타냅니다.<li>다음 <strong>16비트</strong>는 <code class="language-plaintext highlighter-rouge">fractional part</code>(소수부)를 나타냅니다.<li>그리고 정수부와 소수부의 경계를 소수점의 위치라고 생각하고 2진수로 변환된 수를 그대로 넣으면 됩니다.<li>마지막으로 남는 자리는 모두 0으로 채우면 됩니다.</ul><p><img data-proofer-ignore data-src="/assets/img/post_img/fixed_point.png" alt="" /><em>fixed point, 고정 소수점</em></p><p>예를 들어, 10진수 7.625를 32비트 고정 소수점으로 표현해보겠습니다. 먼저 10진수 7.625를 2진수로 표현하면:</p><p><br /></p>\[\begin{align} 7.625_{(10)} &amp;= 2^2 \cdot 1 + 2^1 \cdot 1 + 2^0 \cdot 1 + 2^{-1} \cdot 1 + 2^{-2} \cdot 0 + 2^{-3} \cdot 1 \\[1em] &amp;=111.101_{(2)} \end{align}\]<p><br /></p><p>이를 32비트 고정 소수점으로 표현 해보면:</p><p><img data-proofer-ignore data-src="/assets/img/post_img/fixed_point_example.png" alt="" /></p><p><br /></p><h3 id="고정-소수점의-장단점">고정 소수점의 장단점</h3><p>고정 소수점 방식은 밑에서 다룰 부동 소수점 방식에 비해서 실수를 표현하는 방법이 단순하고, 속도가 빠르다고 합니다. 그러나 다음과 같은 단점 때문에 부동 소수점에 비해서 잘 쓰이지 않는 방식이라고 합니다.</p><ul><li><code class="language-plaintext highlighter-rouge">interger part</code>와 <code class="language-plaintext highlighter-rouge">fractional part</code>에 사용할 비트가 <strong>고정</strong>되어 있기 때문에 큰 실수를 표현하기 어렵습니다.<li><code class="language-plaintext highlighter-rouge">integer part</code>는 딱 15개의 비트, <code class="language-plaintext highlighter-rouge">fractional part</code>는 딱 16개의 비트만 사용 가능합니다.</ul><p><br /></p><h2 id="부동-소수점floating-point">부동 소수점(Floating Point)</h2><hr /><h3 id="원리-1">원리</h3><p>부동 소수점 표현 방식은 ‘움직이지 않는다’라는 부동(不動)으로 오해하기 쉽습니다. 그러나 여기서 부동은 움직이지 않는다는 뜻이 아니라 떠다닌다, 부유하다의 의미를 가지는 부동(浮動)입니다. 단어에서 유추를 해보면, 소수점이 옮겨다니는 방식의 실수 표현법이라고 이해하면 쉽습니다.</p><p>부동 소수점 표현 방식은 고정 소수점 표현 방식과 비트를 사용하는 체계가 다릅니다. 그리고 부동 소수점은 이를 표현하는 다양한 체계가 있는데, 일반적으로 가장 널리 쓰이는 표준은 <a href="https://ko.wikipedia.org/wiki/IEEE">IEEE 754</a>라고 합니다. IEEE 754에 따르면 실수를 다음과 같이 부동 소수점 방식으로 표현할 수 있습니다.</p><ol><li>2진수를 정규화(normalize) 합니다.<li>처음 <strong>1비트</strong>는 <code class="language-plaintext highlighter-rouge">sign</code>(부호)를 나타냅니다 (0은 양수, 1은 음수).<li>다음 <strong>8비트</strong>는 <code class="language-plaintext highlighter-rouge">exponent</code>(지수부)를 나타냅니다. 정규화 과정에서 얻어낸 지수에 bias를 더한 값으로 채웁니다.<li>다음 <strong>23비트</strong>는 <code class="language-plaintext highlighter-rouge">mantissa</code>(가수부)를 나타냅니다. 소수 부분의 값으로 채웁니다.</ol><p><br /></p><p><img data-proofer-ignore data-src="/assets/img/post_img/floating_point.png" alt="" /><em>floating point, 부동 소수점</em></p><p><br /></p><h3 id="정규화">정규화</h3><p>먼저 컴퓨터 공학에서 말하는 정규화란 2진수를 \(1.\)xxx\(\cdots \times 2^n\) 형태로 나타내는 것입니다. 10진수 \(7.625\)을 정규화 해보겠습니다. 먼저 이를 2진수로 변환하면 \(111.101_{(2)}\)입니다. 그리고 나서 정규화 하면:</p><p><br /></p>\[1.11101_{(2)} \cdot 2^2\]<p><br /></p><p>여기서 <code class="language-plaintext highlighter-rouge">exponent</code>는 \(2\)라는 값을 얻어 냈습니다.</p><p><br /></p><h3 id="exponent">Exponent</h3><p>그렇다면 이 \(2\)를 바로 <code class="language-plaintext highlighter-rouge">exponent</code> 부분에 채우면 될까요? 안타깝게도 그렇지 않습니다. IEEE 754 표준에서는 32비트로 실수를 표현할 때는 \(127_{(10)}\)이라는 bias를 더한 값으로 채우라고 명시하고 있습니다. 즉 \(129(2+127)\)을 2진수로 변환한 값인 \(10000001_{(2)}\)를 채웁니다.</p><p>왜 bias라는 값을 따로 두었을까요? 그 이유는 <strong>지수가 음수일 경우에 대처하기 위함</strong>입니다. 예를 들어 \(0.000101_{(2)}\)라는 2진수를 정규화 하면 \(1.01_{(2)} \times 2^{-4}\)라는 값을 얻게 됩니다. 위의 예시와 다르게 지수가 음수(\(-4\))로 나왔습니다. 그렇다면 지수가 음수인 것을 어떻게 나타내야 할까요?</p><p>가장 간단한 아이디어는 전체 수가 양수인지 음수인지를 나타내는 sign 값에 1 비트를 할당하는 것과 같은 원리로 지수가 음수인 것을 나타내기 위해 1 비트를 사용하는 것입니다. 그러나 이경우 표현할 수 있는 수의 범위가 작아진다는 아주 큰 단점이 있습니다.</p><p>따라서 IEEE 754 표준에서는 8 비트로 음수와 양수 모두를 표현하기 위한 하나의 장치로 bias 라는 값을 두었습니다. 이를 통해 <code class="language-plaintext highlighter-rouge">exponent</code> 부분은 항상 unsigned(0과 양수) 값만 가지게 셋팅을 하는데요. 8bit는 256개의 숫자를 표현 할 수 있으므로 unsinged 값의 범위는 10진수 0~255가 되겠습니다.</p><p>127은 0~255 구간의 딱 절반에 해당하는 숫자입니다. 10진수 기준으로</p><ul><li>0~127 구간은 음수 (실제 exponent는 -127~0)<li>128~255 구간은 양수 (실제 exponent는 1~128)</ul><p><br /></p><p>참고로 \(0(00000000_{(2)})\)과 \(255(11111111_{(2)})\)는 각각 0과 무한대 등을 나타내기 위해 특별히 할당된 숫자이기 때문에 앞서 설명드린 정규화 방법이 적용되지 않는다고 합니다.</p><p><br /></p><h3 id="mantissa">Mantissa</h3><p>mantassia는 고정 소수점에서의 fractional part와 같은 역할입니다. <strong>정규화 결과의 소수 부분</strong>을 mantassia 자리에 그대로 넣고, 남는 자리는 0으로 채우면 되겠습니다.</p><p><br /></p><h3 id="실제-예시">실제 예시</h3><p>지금까지 정리한 내용을 바탕으로 \(7.625_{(10)}\)를 부동 소수점으로 표현해보겠습니다.</p><ul><li>2진수 변환: \(111.101_{(2)}\)<li>정규화: \(1.11101_{(2)} \times 2^2\)<li>Exponent: \(2_{(10)}+127_{(10)}\)(bias) \(= 129_{(10)} = 10000001_{(2)}\)<li>Mantassia: \(11101_{(2)}\)</ul><p><img data-proofer-ignore data-src="/assets/img/post_img/floating_point_example.png" alt="" /></p><p><br /></p><h3 id="부동-소수점의-장단점">부동 소수점의 장단점</h3><p>부동 소수점은 고정 소수점에 비해서 더 큰 실수를 표현할 수 있습니다. 예를 들어 고정 소수점은 정수 부분에 15개의 비트를 사용한다고 말씀드렸는데요. 이는 총 \(2^{15} =\)개의 정수를 표현할 수 있다는 것입니다. 생각 보다 큰 숫자라고 생각이 들 수 있습니다.</p><p>그렇다면 부동 소수점은 총 얼마나 큰 정수를 표현할 수 있을까요? 부동 소수점은 <code class="language-plaintext highlighter-rouge">exponent</code>에 8 비트를 사용합니다. 8 비트를 채울 수 있는 가장 큰 숫자는 \(11111111_{(2)}\) 이지만, 부동 소수점 표현에서 이는 무한대의 숫자를 나타내는 특별한 수이므로 실질적으로 가장 큰 숫자는 \(1111110_{(2)}\)입니다. 이를 10진수로 바꾸면 254입니다. 254에는 bias 127이 더해져 있죠. 따라서 정규화 결과로 가질 수 있는 가장 큰 지수는 \(127(254-127)\)입니다. 다시 말해 32비트 부동 소수점에서 가질 수 있는 가장 큰 수의 정규화 결과는 \(1.\)xxx\(\times 2^{127}\)와 같은 형태입니다. 정규화 이전의 값을 떠올려 보면 고정 소수점에 비해서 정수 자리에 훨씬 더 많은 비트를 할당할 수 있음을 알 수 있습니다.</p><p>그렇다면 부동 소수점의 단점은 없을까요? 실수 연산이 부정확할 수 있다는 것이 부동 소수점 표현 방식의 가장 큰 단점입니다. 이는 컴퓨터 하드웨어가 가지는 본질적인 한계점 때문에 완벽하게 극복할 수는 없습니다. 예를 들어 십진수 0.3을 2진수로 변환하면 \(0.0100110011\cdots_{(2)}\) 처럼 특성 수가 무한이 반복됩니다. 따라서 컴퓨터가 실수 부분을 표현할 수 있는 비트수를 다 써버리게 되어 근사치로 표현되는 것입니다.</p><p><br /></p><h2 id="파이썬에서-부동-소수점">파이썬에서 부동 소수점</h2><hr /><p>실제로 제가 주로 사용하는 언어인 파이썬에서도 부동소수점을 활용해서 실수를 표현하고 있는데요. 정말로 실수값이 근사치로 나타나는지 알아보려고 합니다. 먼저 간단하게 0.1을 출력해볼게요</p><div class="language-python highlighter-rouge"><div class="code-header" text-data="python"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="nf">print</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="mf">0.1</span>
</pre></table></code></div></div><p>0.1을 우리가 알던 그 0.1로 잘 표현하고 있는 것처럼 보이는데요…. 과연 그럴까요? 0.1을 소수점 50번째 자리까지 출력해보겠습니다. 예상되는 결과는 \(0.10000\cdots000\)이겠죠?</p><div class="language-python highlighter-rouge"><div class="code-header" text-data="python"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">{:.50f}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span>
<span class="mf">0.10000000000000000555111512312578270211815834045410</span>
</pre></table></code></div></div><p>그러나 파이썬에서 말해주는 결과는 달랐습니다. 왜 이런 결과가 나타날까요? 0.1은 \((1/2)^n\)의 합으로 딱 맞게 나타낼 수 없기 때문입니다. 우리는 십진수로 숫자를 보고 있지만 컴퓨터는 내부적으로 부동소수점 방식을 이용해 2진수로 실수를 나타내고 있는데, 소수 부분을 \((1/2)^n\)의 합으로 딱 맞게 나타낼 수 없습니다. 파이썬에서는 특정 부분에서 반올림을 하여 실수를 출력합니다. 따라서 실제값과 근사값의 오차가 존재하게 되는데 이를 <strong>부동 소수점 반올림 오차(rounding error)</strong>라고 합니다.</p><p>그렇다면 실수 부분을 \((1/2)^n\)의 합으로 딱 맞게 나타낼 수 있는 수는 우리가 생각하는 값을 도출할까요? 0.625를 소수점 50번째자리까지 출력해겠습니다.</p><div class="language-python highlighter-rouge"><div class="code-header" text-data="python"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">{:.50f}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">0.625</span><span class="p">))</span>
<span class="mf">0.62500000000000000000000000000000000000000000000000</span>
</pre></table></code></div></div><p>\(0.625 = 2^{-1} \cdot 1 + 2^{-2} \cdot 0 + 2^{-3} \cdot 1\) 처럼 \((1/2)^{n}\)의 합으로 딱 나누어 떨어집니다. 따라서 어느 순간까지만 실수 부분을 2진수로 변환하면 되기 때문에 쓰이는 비트의 수가 딱 정해져 있습니다.</p><p>이처럼 파이썬에서도 부동소수점으로 실수를 표현하기 때문에 실수를 근사치로 표현한다는 문제점이 여전히 있습니다. 따라서 실수에 대한 비교 연산자를 사용할 때 주의를 기울여야 합니다.</p><div class="language-python highlighter-rouge"><div class="code-header" text-data="python"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="nf">print</span><span class="p">(</span><span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span> <span class="o">==</span> <span class="mf">0.3</span><span class="p">)</span>
<span class="bp">False</span>
</pre></table></code></div></div><p>인간은 0.1과 0.2의 합이 0.3과 같다(True)라는 것을 알고 있습니다. 그러나 컴퓨터는 부동 소수점 연산의 근본적인 오차로 False를 출력하고 있습니다. 왜냐하면 컴퓨터는 0.1, 0.2, 0.3을 각각 다음과 같이 근사치로 표현하고 있기 때문입니다.</p><div class="language-python highlighter-rouge"><div class="code-header" text-data="python"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">{:.50f}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span>
<span class="mf">0.10000000000000000555111512312578270211815834045410</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">{:.50f}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">0.2</span><span class="p">))</span>
<span class="mf">0.20000000000000001110223024625156540423631668090820</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">{:.50f}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="mf">0.3</span><span class="p">))</span>
<span class="mf">0.29999999999999998889776975374843459576368331909180</span>

</pre></table></code></div></div><p>만일 파이썬에서 실수끼리의 비교연산을 정확하게 하고 싶다면 decimal 모듈의 Decimal을 사용하면 됩니다. Decimal은 10진수로 처리하여 정확한 소수점 자리를 나타내도록 합니다.</p><div class="language-python highlighter-rouge"><div class="code-header" text-data="python"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="n">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nf">print</span><span class="p">(</span><span class="nc">Decimal</span><span class="p">(</span><span class="sh">'</span><span class="s">0.1</span><span class="sh">'</span><span class="p">)</span> <span class="o">+</span> <span class="nc">Decimal</span><span class="p">(</span><span class="sh">'</span><span class="s">0.2</span><span class="sh">'</span><span class="p">)</span> <span class="o">==</span> <span class="nc">Decimal</span><span class="p">(</span><span class="sh">'</span><span class="s">0.3</span><span class="sh">'</span><span class="p">))</span>
<span class="bp">True</span>
</pre></table></code></div></div><p><br /></p><h2 id="마무리">마무리</h2><hr /><p>지금까지 컴퓨터가 숫자, 특히 <strong>실수</strong>를 표현하는 방법에 대해 알아보았습니다. 컴퓨터가 실수를 표현하는 가장 대표적인 방법은 고정 소수점(fixed point)과 부동 소수점(floating point)입니다. 고정 소수점은 <code class="language-plaintext highlighter-rouge">interger part</code>와 <code class="language-plaintext highlighter-rouge">fractional part</code>에 정해진 비트수를 할당하여 실수를 표현하는 방식입니다. 반면 부동 소수점 방식은 <code class="language-plaintext highlighter-rouge">exponent</code>의 개념을 도입하여 소수점을 이리저리 옮겨 다닐 수 있습니다. 결과적으로 부동소수점 방식은 고정 소수점 방식에 비해 더 큰 수를 표현할 수 있다는 측면에서 대부분의 컴퓨터 시스템에서 실수를 부동 소수점 방식으로 표현하고 있습니다.</p><p>그러나 고정 소수점이든 부동 소수점이든 컴퓨터가 가진 하드웨어의 한계로인해 정확하게 표현할수 있는 실수는 그리 많지 않습니다. 왜냐하면 고정소수점이든 부동 소수점이든 결국 소수를 표현하는 부분에 특정 개수의 비트를 할당하는데, 이 부분을 2진수로 변환하였을 때 \((1/2)^{n}\)의 합으로 정확하게 표현할 수 있는 실수가 그리 많지 않기 때문입니다.</p><p>특히나 제가 주로 사용하는 언어인 파이썬에서도 실수를 부동 소수점 방식으로 표현하고 있는데, 필연적으로 실수값을 계산할 때 오차가 발생합니다. 따라서 우리는 각자 사용하는 언어에서 실수에 대한 어떤 연산(비교 연산 등)을 할 때 항상 직관과 다른 결과가 발생할 수 있다는 사실을 인지하고 하여야 하겠습니다.</p><p><br /></p><h2 id="reference">Reference</h2><hr /><ul><li><a href="https://www.boostcourse.org/cs112/joinLectures/41486?isDesc=false">CS50 - C언어</a><li><a href="https://steemit.com/kr/@modolee/floating-point">부동 소수점(Floating Point)란 무엇인가?</a><li><a href="https://gsmesie692.tistory.com/94">컴퓨터에서의 실수 표현: 고정소수점 vs 부동소수점</a><li><a href="https://jiminish.tistory.com/81">고정소수점과 부동소수점</a><li><a href="https://ko.wikipedia.org/wiki/IEEE_754">IEEE 754</a><li>[<a href="https://bskyvision.com/736">python] int8? float32? bool?, numpy 자료형 정리.txt</a><li><a href="https://yechoi.tistory.com/45">(번역) 고정소수점 표현에 대한 이해</a><li><a href="https://velog.io/@sangmin7648/%EC%98%A4%EB%8A%98%EC%9D%98-%EB%B0%B0%EC%9B%80-014-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EB%B6%80%EB%8F%99%EC%86%8C%EC%88%98%EC%A0%90">[오늘의 배움] 014 컴퓨터구조 부동소수점</a><li><a href="https://docs.python.org/ko/3/tutorial/floatingpoint.html#floating-point-arithmetic-issues-and-limitations">부동 소수점 산술: 문제점 및 한계</a><li><a href="https://velog.io/@syleemk/CS-%EB%B6%80%EB%8F%99-%EC%86%8C%EC%88%98%EC%A0%90-%EC%98%A4%EC%B0%A8">[CS] 부동 소수점 오차</a><li><a href="https://velog.io/@nameunzz/%EB%B6%80%EB%8F%99%EC%86%8C%EC%88%98%EC%A0%90%EC%B2%98%EB%A6%AC">부동소수점처리</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/cs/'>CS</a>, <a href='/categories/cs50/'>CS50</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/fixed-point/" class="post-tag no-text-decoration" >fixed point</a> <a href="/tags/floating-point/" class="post-tag no-text-decoration" >floating point</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=CS50 - 고정 소수점(fixed point)과 부동 소수점(floating point) - 생각과 고민.&url=https://gguguk.github.io/posts/fixed_point_and_floating_point/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=CS50 - 고정 소수점(fixed point)과 부동 소수점(floating point) - 생각과 고민.&u=https://gguguk.github.io/posts/fixed_point_and_floating_point/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=CS50 - 고정 소수점(fixed point)과 부동 소수점(floating point) - 생각과 고민.&url=https://gguguk.github.io/posts/fixed_point_and_floating_point/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/tsne/">T-SNE 이해하기</a><li><a href="/posts/how_to_work_python/">CS50 - 파이썬이 소스 코드를 실행하는 과정과 원리</a><li><a href="/posts/OIDC/">IRSA의 원리를 파헤쳐보자 4 - OIDC</a><li><a href="/posts/OAuth/">IRSA의 원리를 파헤쳐보자 3 - OAuth2.0</a><li><a href="/posts/admission_webhook/">IRSA의 원리를 파헤쳐보자 1 - K8S Admission Webhook</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/cs50_computational_thinking/"><div class="card-body"> <span class="timeago small" >Oct 10, 2021<i class="unloaded">2021-10-10T16:21:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>CS50 - 컴퓨팅 사고(Computational Thinking)</h3><div class="text-muted small"><p> 최근 사내에서 CS50 스터디를 시작했습니다. 본 포스팅은 CS50의 첫번째 주제인 ‘컴퓨팅 사고’의 내용을 정리합니다. 컴퓨터는 정보를 어떤 방식으로 표현할까요? 그리고 컴퓨터는 정보를 어떻게 처리할까요? 오리엔테이션 성격의 강의이기 때문에 가볍게 정리해보려고 합니다. 본 포스팅에서는 다음의 내용을 다룹니다. 컴퓨터가 ‘숫자’를 이해하는 방...</p></div></div></a></div><div class="card"> <a href="/posts/korean_encoding/"><div class="card-body"> <span class="timeago small" >Oct 11, 2021<i class="unloaded">2021-10-11T16:12:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ASCII, Unicode, 파이썬 한글 인코딩</h3><div class="text-muted small"><p> 한글 인코딩 때문에 고생한 경험, 다들 있으시죠? 소위 말하는 인코딩이 깨진 경험을 하신적이 있지 않으신가요? 특히 맥을 처음 다루어 보신 분들께서 한글 인코딩이 깨진 경험을 많이 하셨을 것 같습니다. 분명히 윈도우에서 제대로 보이는 csv 파일이, 맥에서 열면 깨져버리죠. 이는 윈도우와 맥의 기본적인 한글 인코딩 방식이 달라서 발생하는 문제입니...</p></div></div></a></div><div class="card"> <a href="/posts/how_to_work_python/"><div class="card-body"> <span class="timeago small" >Oct 27, 2021<i class="unloaded">2021-10-27T11:50:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>CS50 - 파이썬이 소스 코드를 실행하는 과정과 원리</h3><div class="text-muted small"><p> 우리는 앞선 글들에서 컴퓨터는 0과 1, 즉 2진수만 이해할 수 있다는 사실을 알았습니다. 그런데 코딩을 해보신 분들은 당연히 아시겠지만 우리는 0과 1로 코딩을 하고 있지 않습니다. 쉽진 않지만 영어로 이루어진, 그래도 인간이 보고 어느 정도 해석을 할 수 있는 언어(파이썬, C, 자바 등)를 이용해서 코딩을 하고 있죠. 컴퓨터는 분명히 0과 1만...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/MLOps/" class="btn btn-outline-primary" prompt="Older"><p>MLOps - Continuous delivery and automation pipelines in machine learing 번역 및 요약 정리</p></a> <a href="/posts/how_to_work_python/" class="btn btn-outline-primary" prompt="Newer"><p>CS50 - 파이썬이 소스 코드를 실행하는 과정과 원리</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/gguguk">Gukwon Koo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/retrospective/">retrospective</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/nlp/">nlp</a> <a class="post-tag" href="/tags/statistics/">statistics</a> <a class="post-tag" href="/tags/irsa/">irsa</a> <a class="post-tag" href="/tags/ml/">ml</a> <a class="post-tag" href="/tags/mlops/">mlops</a> <a class="post-tag" href="/tags/paper/">paper</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://gguguk.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-8EWVG7CHCY"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-8EWVG7CHCY'); }); </script>
